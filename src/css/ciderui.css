/*
 * ciderui — Apple-aesthetic UI components as a Tailwind CSS plugin
 * https://github.com/newlix/ciderui
 *
 * Usage:
 *   @import "tailwindcss";
 *   @import "ciderui";
 */

/* ─── Dark mode variant ─── */
@custom-variant dark (&:is(.dark *));

/* ─── CSS Variables ─── */
:root {
  --color-primary: oklch(0.563 0.193 256.16);        /* Apple Blue #0071E3 rgb(0,113,227) */
  --color-primary-hover: oklch(0.522 0.177 255.84);   /* #0066CC rgb(0,102,204) */
  --color-primary-active: oklch(0.480 0.165 256.16);  /* darker press state */
  --color-primary-foreground: #fff;

  --color-background: #fff;
  --color-foreground: oklch(0.232 0.004 285.99);      /* #1D1D1F Apple body text */

  --color-card: #fff;
  --color-card-foreground: oklch(0.232 0.004 285.99);

  --color-secondary: oklch(0.971 0.003 285.66);       /* #F5F5F7 Apple secondary bg */
  --color-secondary-hover: oklch(0.930 0.005 286.02);
  --color-secondary-foreground: oklch(0.232 0.004 285.99);

  --color-muted: oklch(0.971 0.003 285.66);
  --color-muted-foreground: oklch(0.540 0.008 286.01); /* #6E6E73 Apple muted text */

  --color-accent: oklch(0.971 0.003 285.66);
  --color-accent-foreground: oklch(0.232 0.004 285.99);

  --color-border: oklch(0.862 0.007 286.02 / 0.6);   /* #D1D1D6 Apple border */
  --color-border-solid: oklch(0.862 0.007 286.02 / 0.8);
  --color-input: oklch(0.862 0.007 286.02 / 0.8);

  --color-ring: oklch(0.563 0.193 256.16 / 0.1);

  --color-destructive: oklch(0.577 0.245 27.33);      /* red-500 */
  --color-destructive-hover: oklch(0.535 0.241 27.33); /* red-600 */
  --color-destructive-active: oklch(0.494 0.226 27.33);/* red-700 */
  --color-destructive-foreground: #fff;
  --color-destructive-bg: oklch(0.971 0.037 17.72);   /* red-50 */
  --color-destructive-border: oklch(0.577 0.245 27.33 / 0.2);

  --color-success: oklch(0.596 0.172 145.18);          /* green-500 */
  --color-success-bg: oklch(0.962 0.044 156.74);       /* green-50 */
  --color-success-text: oklch(0.408 0.132 145.18);     /* green-700 */
  --color-success-border: oklch(0.905 0.093 156.74 / 0.6); /* green-200/60 */

  --color-warning: oklch(0.666 0.179 58.32);           /* amber-600 */
  --color-warning-bg: oklch(0.987 0.046 85.80);        /* amber-50 */
  --color-warning-text: oklch(0.461 0.147 58.32);      /* amber-700 */
  --color-warning-border: oklch(0.924 0.112 85.80 / 0.6); /* amber-200/60 */

  --color-info: oklch(0.563 0.193 256.16);             /* same as primary */
  --color-info-bg: oklch(0.563 0.193 256.16 / 0.05);
  --color-info-text: oklch(0.563 0.193 256.16);
  --color-info-border: oklch(0.563 0.193 256.16 / 0.2);

  --input-border: oklch(0.800 0.007 286.02);       /* Apple input border */
  --input-border-hover: oklch(0.580 0.010 286.01); /* Darker on hover */

  --apple-press-scale: 0.97;
  --apple-spring: cubic-bezier(0.2, 0.8, 0.2, 1);
  --apple-ease: cubic-bezier(0.25, 0.1, 0.25, 1);

  /* Surface overlays — auto-switch in dark mode */
  --surface-1: oklch(0 0 0 / 0.02);    /* table header, zebra stripe */
  --surface-2: oklch(0 0 0 / 0.03);    /* hover backgrounds */
  --surface-3: oklch(0 0 0 / 0.04);    /* icon bg, kbd bg, toggle group */
  --surface-4: oklch(0 0 0 / 0.06);    /* active state, segmented control bg */
  --surface-5: oklch(0 0 0 / 0.1);     /* slider track */
  --surface-6: oklch(0 0 0 / 0.12);    /* scrollbar */
  --surface-7: oklch(0 0 0 / 0.2);     /* scrollbar hover, handle */
  --panel-border: oklch(0 0 0 / 0.06); /* section dividers in panels */
  --panel-ring: 0 0 0 1px oklch(0 0 0 / 0.04); /* card/table shadow outline */
  --float-ring: 0 0 0 1px oklch(0 0 0 / 0.06); /* dropdown/popover/hud outline */
  --glass-blur: blur(20px) saturate(1.5);
  --glass-bg: oklch(from var(--color-card) l c h / 0.85);
  --glass-bg-opaque: oklch(from var(--color-card) l c h / 0.9);
  --backdrop-bg: oklch(0 0 0 / 0.35);

  --mark-bg: oklch(0.92 0.1 95);        /* warm yellow highlight */

  --radius: 0.75rem;                             /* 12px */
  --radius-sm: 0.5rem;                           /* 8px */
  --radius-lg: 1rem;                             /* 16px */
  --radius-xl: 1.375rem;                         /* 22px */

  --shadow-sm: 0 1px 2px oklch(0 0 0 / 0.04), 0 1px 3px oklch(0 0 0 / 0.03);
  --shadow: 0 2px 8px oklch(0 0 0 / 0.06), 0 1px 2px oklch(0 0 0 / 0.04);
  --shadow-md: 0 4px 16px oklch(0 0 0 / 0.08), 0 2px 4px oklch(0 0 0 / 0.04);
  --shadow-lg: 0 8px 32px oklch(0 0 0 / 0.1), 0 2px 8px oklch(0 0 0 / 0.05);
  --shadow-xl: 0 16px 48px oklch(0 0 0 / 0.12), 0 4px 16px oklch(0 0 0 / 0.06);
}

.dark {
  --color-primary: oklch(0.669 0.181 251.85);          /* #2997FF Apple blue on dark bg */
  --color-primary-hover: oklch(0.620 0.185 253.00);
  --color-primary-active: oklch(0.570 0.188 254.00);

  --color-background: oklch(0.000 0 0);                /* #000 Apple dark bg */
  --color-foreground: oklch(0.971 0.003 285.66);       /* #F5F5F7 Apple dark text */

  --color-card: oklch(0.160 0.004 285.99);             /* #1C1C1E Apple dark card */
  --color-card-foreground: oklch(0.971 0.003 285.66);

  --color-secondary: oklch(0.232 0.004 285.99);        /* #2C2C2E Apple dark secondary */
  --color-secondary-hover: oklch(0.320 0.004 285.99);
  --color-secondary-foreground: oklch(0.971 0.003 285.66);

  --color-muted: oklch(0.232 0.004 285.99);
  --color-muted-foreground: oklch(0.630 0.006 286.01); /* #98989D Apple dark muted */

  --color-accent: oklch(0.232 0.004 285.99);
  --color-accent-foreground: oklch(0.971 0.003 285.66);

  --color-border: oklch(0.290 0.004 285.99);           /* #3A3A3C Apple dark border */
  --color-border-solid: oklch(0.350 0.004 285.99);     /* #48484A */
  --color-input: oklch(0.350 0.004 285.99);

  --input-border: oklch(0.350 0.004 285.99);       /* #48484A */
  --input-border-hover: oklch(0.420 0.004 285.99); /* Lighter on hover */

  --color-ring: oklch(0.669 0.181 251.85 / 0.2);

  --color-info: oklch(0.669 0.181 251.85);
  --color-info-bg: oklch(0.669 0.181 251.85 / 0.05);
  --color-info-text: oklch(0.669 0.181 251.85);
  --color-info-border: oklch(0.669 0.181 251.85 / 0.2);

  --color-success-bg: oklch(0.596 0.172 145.18 / 0.05);
  --color-success-text: oklch(0.792 0.155 145.18);    /* green-400 */
  --color-success-border: oklch(0.596 0.172 145.18 / 0.2);

  --color-warning-bg: oklch(0.666 0.179 58.32 / 0.05);
  --color-warning-text: oklch(0.828 0.143 58.32);     /* amber-400 */
  --color-warning-border: oklch(0.666 0.179 58.32 / 0.2);

  --color-destructive-bg: oklch(0.577 0.245 27.33 / 0.05);
  --color-destructive-border: oklch(0.577 0.245 27.33 / 0.2);

  --shadow-sm: 0 1px 3px oklch(1 0 0 / 0.08), 0 1px 2px oklch(1 0 0 / 0.04);
  --shadow: 0 2px 8px oklch(0 0 0 / 0.2), 0 1px 3px oklch(0 0 0 / 0.15);
  --shadow-md: 0 4px 16px oklch(0 0 0 / 0.25), 0 2px 4px oklch(0 0 0 / 0.15);
  --shadow-lg: 0 8px 32px oklch(0 0 0 / 0.3), 0 2px 8px oklch(0 0 0 / 0.2);
  --shadow-xl: 0 16px 48px oklch(0 0 0 / 0.35), 0 4px 16px oklch(0 0 0 / 0.2);

  --surface-1: oklch(1 0 0 / 0.03);
  --surface-2: oklch(1 0 0 / 0.05);
  --surface-3: oklch(1 0 0 / 0.06);
  --surface-4: oklch(1 0 0 / 0.08);
  --surface-5: oklch(1 0 0 / 0.12);
  --surface-6: oklch(1 0 0 / 0.12);
  --surface-7: oklch(1 0 0 / 0.2);
  --panel-border: oklch(1 0 0 / 0.08);
  --panel-ring: 0 0 0 1px oklch(1 0 0 / 0.06);
  --float-ring: 0 0 0 1px oklch(1 0 0 / 0.08);
  --glass-bg: oklch(from var(--color-card) l c h / 0.8);
  --glass-bg-opaque: oklch(from var(--color-card) l c h / 0.85);

  --mark-bg: oklch(0.4 0.1 95);         /* dark warm highlight */
}

/* ─── Theme tokens (register names for Tailwind utilities) ─── */
@theme {
  --color-primary: var(--color-primary);
  --color-primary-hover: var(--color-primary-hover);
  --color-primary-active: var(--color-primary-active);
  --color-primary-foreground: var(--color-primary-foreground);
  --color-background: var(--color-background);
  --color-foreground: var(--color-foreground);
  --color-card: var(--color-card);
  --color-card-foreground: var(--color-card-foreground);
  --color-secondary: var(--color-secondary);
  --color-secondary-hover: var(--color-secondary-hover);
  --color-secondary-foreground: var(--color-secondary-foreground);
  --color-muted: var(--color-muted);
  --color-muted-foreground: var(--color-muted-foreground);
  --color-accent: var(--color-accent);
  --color-accent-foreground: var(--color-accent-foreground);
  --color-border: var(--color-border);
  --color-border-solid: var(--color-border-solid);
  --color-input: var(--color-input);
  --color-ring: var(--color-ring);
  --color-destructive: var(--color-destructive);
  --color-destructive-hover: var(--color-destructive-hover);
  --color-destructive-active: var(--color-destructive-active);
  --color-destructive-foreground: var(--color-destructive-foreground);
  --color-destructive-bg: var(--color-destructive-bg);
  --color-destructive-border: var(--color-destructive-border);
  --color-success: var(--color-success);
  --color-success-bg: var(--color-success-bg);
  --color-success-text: var(--color-success-text);
  --color-success-border: var(--color-success-border);
  --color-warning: var(--color-warning);
  --color-warning-bg: var(--color-warning-bg);
  --color-warning-text: var(--color-warning-text);
  --color-warning-border: var(--color-warning-border);
  --color-info: var(--color-info);
  --color-info-bg: var(--color-info-bg);
  --color-info-text: var(--color-info-text);
  --color-info-border: var(--color-info-border);
  --radius: var(--radius);
  --radius-sm: var(--radius-sm);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
  --shadow-sm: var(--shadow-sm);
  --shadow: var(--shadow);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
  --shadow-xl: var(--shadow-xl);
}

/* ─── Base ─── */
@layer base {
  body {
    @apply bg-background text-foreground antialiased;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: -0.01em;
  }

  *,
  *::before,
  *::after {
    @apply border-border;
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(8px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideDown {
    from { opacity: 1; transform: translateY(0); }
    to   { opacity: 0; transform: translateY(8px); }
  }

  @keyframes dialogShow {
    from { opacity: 0; transform: scale(0.95); }
    to   { opacity: 1; transform: scale(1); }
  }

  @keyframes dialogHide {
    from { opacity: 1; transform: scale(1); }
    to   { opacity: 0; transform: scale(0.95); }
  }

  @keyframes backdropFadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
  }

  @keyframes shimmer {
    0%   { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  @keyframes indeterminate {
    0%   { transform: translateX(-100%); }
    100% { transform: translateX(400%); }
  }

  @keyframes sheetSlideInRight {
    from { opacity: 0; transform: translateX(100%); }
    to   { opacity: 1; transform: translateX(0); }
  }

  @keyframes sheetSlideInLeft {
    from { opacity: 0; transform: translateX(-100%); }
    to   { opacity: 1; transform: translateX(0); }
  }

  @keyframes sheetSlideInBottom {
    from { opacity: 0; transform: translateY(100%); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes sheetSlideInTop {
    from { opacity: 0; transform: translateY(-100%); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes sheetSlideOutRight {
    from { opacity: 1; transform: translateX(0); }
    to   { opacity: 0; transform: translateX(100%); }
  }

  @keyframes sheetSlideOutLeft {
    from { opacity: 1; transform: translateX(0); }
    to   { opacity: 0; transform: translateX(-100%); }
  }

  @keyframes sheetSlideOutBottom {
    from { opacity: 1; transform: translateY(0); }
    to   { opacity: 0; transform: translateY(100%); }
  }

  @keyframes sheetSlideOutTop {
    from { opacity: 1; transform: translateY(0); }
    to   { opacity: 0; transform: translateY(-100%); }
  }

  /* Reduced motion — disable animations/transitions for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

/* ─── Components ─── */
@layer components {
  @import "./components/button.css";
  @import "./components/badge.css";
  @import "./components/card.css";
  @import "./components/alert.css";
  @import "./components/field.css";
  @import "./components/dialog.css";
  @import "./components/menu.css";
  @import "./components/tabs.css";
  @import "./components/table.css";
  @import "./components/accordion.css";
  @import "./components/avatar.css";
  @import "./components/breadcrumb.css";
  @import "./components/button-group.css";
  @import "./components/pagination.css";
  @import "./components/progress.css";
  @import "./components/skeleton.css";
  @import "./components/snippet.css";
  @import "./components/slider.css";
  @import "./components/spinner.css";
  @import "./components/hud.css";
  @import "./components/tooltip.css";
  @import "./components/separator.css";
  @import "./components/input-group.css";
  @import "./components/list-row.css";
  @import "./components/form.css";
  @import "./components/sidebar.css";
  @import "./components/theme-switcher.css";
  @import "./components/command.css";
  @import "./components/combobox.css";
  @import "./components/empty.css";
  @import "./components/collapsible.css";
  @import "./components/file-tree.css";
  @import "./components/sheet.css";
  @import "./components/popover.css";
  @import "./components/toggle.css";
  @import "./components/aspect-ratio.css";
  @import "./components/scroll-area.css";
  @import "./components/hover-card.css";
  @import "./components/drawer.css";
  @import "./components/input-otp.css";
  @import "./components/context-menu.css";
  @import "./components/carousel.css";
  @import "./components/container.css";
}
