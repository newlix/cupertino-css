/*
 * ciderui — Apple-aesthetic UI components as a Tailwind CSS plugin
 * https://github.com/newlix/ciderui
 *
 * Usage:
 *   @import "tailwindcss";
 *   @import "ciderui";
 */

/* ─── Dark mode variant ─── */
@custom-variant dark (&:is(.dark *));

/* ─── CSS Variables ─── */
:root {
  --color-primary: oklch(0.563 0.193 256.16);        /* Apple Blue #0071E3 rgb(0,113,227) */
  --color-primary-hover: oklch(0.522 0.177 255.84);   /* #0066CC rgb(0,102,204) */
  --color-primary-active: oklch(0.480 0.165 256.16);  /* darker press state */
  --color-primary-foreground: #fff;

  --color-background: #fff;
  --color-foreground: oklch(0.232 0.004 285.99);      /* #1D1D1F Apple body text */

  --color-card: #fff;
  --color-card-foreground: oklch(0.232 0.004 285.99);

  --color-secondary: oklch(0.971 0.003 285.66);       /* #F5F5F7 Apple secondary bg */
  --color-secondary-hover: oklch(0.930 0.005 286.02);
  --color-secondary-foreground: oklch(0.232 0.004 285.99);

  --color-muted: oklch(0.971 0.003 285.66);
  --color-muted-foreground: oklch(0.540 0.008 286.01); /* #6E6E73 Apple muted text */

  --color-accent: oklch(0.971 0.003 285.66);
  --color-accent-foreground: oklch(0.232 0.004 285.99);

  --color-border: oklch(0.862 0.007 286.02 / 0.6);   /* #D1D1D6 Apple border */
  --color-border-solid: oklch(0.862 0.007 286.02 / 0.8);
  --color-input: oklch(0.862 0.007 286.02 / 0.8);

  --color-ring: oklch(0.563 0.193 256.16 / 0.1);

  --color-destructive: oklch(0.654 0.232 28.66);       /* Apple System Red #FF3B30 */
  --color-destructive-hover: oklch(0.605 0.215 28.47);  /* #E6342B */
  --color-destructive-active: oklch(0.554 0.195 28.41); /* #CC2E26 */
  --color-destructive-foreground: #fff;

  --input-border: oklch(0.800 0.007 286.02);       /* Apple input border */
  --input-border-hover: oklch(0.580 0.010 286.01); /* Darker on hover */

  --apple-press-scale: 0.97;
  --apple-spring: cubic-bezier(0.2, 0.8, 0.2, 1);
  --apple-ease: cubic-bezier(0.25, 0.1, 0.25, 1);

  /* Surface overlays — auto-switch in dark mode */
  --surface-1: oklch(0 0 0 / 0.02);    /* table header, zebra stripe */
  --surface-2: oklch(0 0 0 / 0.03);    /* hover backgrounds */
  --surface-3: oklch(0 0 0 / 0.04);    /* icon bg, kbd bg, toggle group */
  --surface-4: oklch(0 0 0 / 0.06);    /* active state, segmented control bg */
  --surface-5: oklch(0 0 0 / 0.1);     /* slider track */
  --surface-6: oklch(0 0 0 / 0.12);    /* scrollbar */
  --surface-7: oklch(0 0 0 / 0.2);     /* scrollbar hover, handle */
  --panel-border: oklch(0 0 0 / 0.06); /* section dividers in panels */
  --panel-ring: 0 0 0 1px oklch(0 0 0 / 0.04); /* card/table shadow outline */
  --float-ring: 0 0 0 1px oklch(0 0 0 / 0.06); /* dropdown/popover/hud outline */
  --glass-blur: blur(20px) saturate(1.5);
  --glass-bg: oklch(from var(--color-card) l c h / 0.85);
  --glass-bg-opaque: oklch(from var(--color-card) l c h / 0.9);
  --backdrop-bg: oklch(0 0 0 / 0.35);

  --mark-bg: oklch(0.92 0.1 95);        /* warm yellow highlight */

  --radius: 0.75rem;                             /* 12px */
  --radius-sm: 0.5rem;                           /* 8px */
  --radius-lg: 1rem;                             /* 16px */
  --radius-xl: 1.375rem;                         /* 22px */

  --shadow-sm: 0 1px 2px oklch(0 0 0 / 0.04), 0 1px 3px oklch(0 0 0 / 0.03);
  --shadow: 0 2px 8px oklch(0 0 0 / 0.06), 0 1px 2px oklch(0 0 0 / 0.04);
  --shadow-md: 0 4px 16px oklch(0 0 0 / 0.08), 0 2px 4px oklch(0 0 0 / 0.04);
  --shadow-lg: 0 8px 32px oklch(0 0 0 / 0.1), 0 2px 8px oklch(0 0 0 / 0.05);
  --shadow-xl: 0 16px 48px oklch(0 0 0 / 0.12), 0 4px 16px oklch(0 0 0 / 0.06);
}

.dark {
  --color-primary: oklch(0.669 0.181 251.84);          /* #2997FF Apple blue on dark bg */
  --color-primary-hover: oklch(0.620 0.185 253.00);
  --color-primary-active: oklch(0.570 0.188 254.00);

  --color-background: oklch(0.000 0 0);                /* #000 Apple dark bg */
  --color-foreground: oklch(0.971 0.003 286.35);       /* #F5F5F7 Apple dark text */

  --color-card: oklch(0.227 0.004 286.09);             /* #1C1C1E systemGray6 */
  --color-card-foreground: oklch(0.971 0.003 286.35);

  --color-secondary: oklch(0.294 0.004 286.18);        /* #2C2C2E systemGray5 */
  --color-secondary-hover: oklch(0.349 0.003 286.22);  /* #3A3A3C systemGray4 */
  --color-secondary-foreground: oklch(0.971 0.003 286.35);

  --color-muted: oklch(0.294 0.004 286.18);            /* #2C2C2E systemGray5 */
  --color-muted-foreground: oklch(0.681 0.007 286.21); /* #98989D Apple dark muted */

  --color-accent: oklch(0.294 0.004 286.18);           /* #2C2C2E systemGray5 */
  --color-accent-foreground: oklch(0.971 0.003 286.35);

  --color-border: oklch(0.349 0.003 286.22);           /* #3A3A3C systemGray4 */
  --color-border-solid: oklch(0.402 0.003 286.25);     /* #48484A systemGray3 */
  --color-input: oklch(0.402 0.003 286.25);

  --input-border: oklch(0.402 0.003 286.25);       /* #48484A systemGray3 */
  --input-border-hover: oklch(0.460 0.003 286.25); /* #58585A lighter on hover */

  --color-ring: oklch(0.669 0.181 251.84 / 0.2);

  --color-destructive: oklch(0.663 0.224 28.29);       /* Apple Dark Red #FF453A */
  --color-destructive-hover: oklch(0.614 0.206 28.02); /* #E63E35 */
  --color-destructive-active: oklch(0.563 0.187 27.66);/* #CC3730 */

  --shadow-sm: 0 1px 3px oklch(1 0 0 / 0.08), 0 1px 2px oklch(1 0 0 / 0.04);
  --shadow: 0 2px 8px oklch(0 0 0 / 0.2), 0 1px 3px oklch(0 0 0 / 0.15);
  --shadow-md: 0 4px 16px oklch(0 0 0 / 0.25), 0 2px 4px oklch(0 0 0 / 0.15);
  --shadow-lg: 0 8px 32px oklch(0 0 0 / 0.3), 0 2px 8px oklch(0 0 0 / 0.2);
  --shadow-xl: 0 16px 48px oklch(0 0 0 / 0.35), 0 4px 16px oklch(0 0 0 / 0.2);

  --surface-1: oklch(1 0 0 / 0.03);
  --surface-2: oklch(1 0 0 / 0.05);
  --surface-3: oklch(1 0 0 / 0.06);
  --surface-4: oklch(1 0 0 / 0.08);
  --surface-5: oklch(1 0 0 / 0.12);
  --surface-6: oklch(1 0 0 / 0.12);
  --surface-7: oklch(1 0 0 / 0.2);
  --panel-border: oklch(1 0 0 / 0.08);
  --panel-ring: 0 0 0 1px oklch(1 0 0 / 0.06);
  --float-ring: 0 0 0 1px oklch(1 0 0 / 0.08);
  --glass-bg: oklch(from var(--color-card) l c h / 0.8);
  --glass-bg-opaque: oklch(from var(--color-card) l c h / 0.85);

  --mark-bg: oklch(0.4 0.1 95);         /* dark warm highlight */
}

/* ─── Theme tokens (register names for Tailwind utilities) ─── */
@theme {
  --color-primary: var(--color-primary);
  --color-primary-hover: var(--color-primary-hover);
  --color-primary-active: var(--color-primary-active);
  --color-primary-foreground: var(--color-primary-foreground);
  --color-background: var(--color-background);
  --color-foreground: var(--color-foreground);
  --color-card: var(--color-card);
  --color-card-foreground: var(--color-card-foreground);
  --color-secondary: var(--color-secondary);
  --color-secondary-hover: var(--color-secondary-hover);
  --color-secondary-foreground: var(--color-secondary-foreground);
  --color-muted: var(--color-muted);
  --color-muted-foreground: var(--color-muted-foreground);
  --color-accent: var(--color-accent);
  --color-accent-foreground: var(--color-accent-foreground);
  --color-border: var(--color-border);
  --color-border-solid: var(--color-border-solid);
  --color-input: var(--color-input);
  --color-ring: var(--color-ring);
  --color-destructive: var(--color-destructive);
  --color-destructive-hover: var(--color-destructive-hover);
  --color-destructive-active: var(--color-destructive-active);
  --color-destructive-foreground: var(--color-destructive-foreground);
  --radius: var(--radius);
  --radius-sm: var(--radius-sm);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
  --shadow-sm: var(--shadow-sm);
  --shadow: var(--shadow);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
  --shadow-xl: var(--shadow-xl);
}

/* ─── Base ─── */
@layer base {
  body {
    @apply bg-background text-foreground antialiased;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: -0.01em;
  }

  *,
  *::before,
  *::after {
    @apply border-border;
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(8px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideDown {
    from { opacity: 1; transform: translateY(0); }
    to   { opacity: 0; transform: translateY(8px); }
  }

  @keyframes dialogShow {
    from { opacity: 0; transform: scale(0.95); }
    to   { opacity: 1; transform: scale(1); }
  }

  @keyframes dialogHide {
    from { opacity: 1; transform: scale(1); }
    to   { opacity: 0; transform: scale(0.95); }
  }

  @keyframes backdropFadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
  }

  @keyframes shimmer {
    0%   { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  @keyframes indeterminate {
    0%   { transform: translateX(-100%); }
    100% { transform: translateX(300%); }
  }

  @keyframes sheetSlideInBottom {
    from { opacity: 0; transform: translateY(100%); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes sheetSlideOutBottom {
    from { opacity: 1; transform: translateY(0); }
    to   { opacity: 0; transform: translateY(100%); }
  }

  /* Reduced motion — disable animations/transitions for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

/* ─── Components ─── */
@layer components {
  @import "./components/button.css";
  @import "./components/badge.css";
  @import "./components/card.css";
  @import "./components/banner.css";

  @import "./components/dialog.css";
  @import "./components/tabs.css";
  @import "./components/segmented-control.css";
  @import "./components/table.css";
  @import "./components/avatar.css";
  @import "./components/page-control.css";
  @import "./components/pagination.css";
  @import "./components/breadcrumb.css";
  @import "./components/progress.css";
  @import "./components/skeleton.css";
  @import "./components/slider.css";
  @import "./components/activity-indicator.css";
  @import "./components/hud.css";

  @import "./components/separator.css";

  @import "./components/list.css";

  @import "./components/sheet.css";
  @import "./components/popover.css";
  @import "./components/verification-code.css";
  @import "./components/menu.css";
  @import "./components/container.css";
}
