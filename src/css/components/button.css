/* ========== BUTTON ========== */
.btn-gray,
.btn-filled,
.btn-tinted,
.btn-plain {
  @apply inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[12px] px-4 py-3 text-[15px] leading-[1.33] font-medium disabled:pointer-events-none disabled:opacity-50 cursor-pointer;
  text-decoration: none;
  corner-shape: squircle;
  transition: background-color 0.15s var(--apple-ease), transform 0.15s var(--apple-spring), opacity 0.2s var(--apple-ease);
  letter-spacing: -0.016em;
  &:active { transform: scale(var(--apple-press-scale)); }
  &:focus-visible { outline: 2px solid var(--color-primary); outline-offset: 2px; }
}
.btn-gray {
  @apply bg-secondary text-secondary-foreground;
  &:hover { background: var(--color-secondary-hover); }
  &:active { background: var(--surface-4); }
}
.btn-filled {
  @apply bg-primary text-primary-foreground;
  &:hover { background: var(--color-primary-hover); }
  &:active { background: var(--color-primary-active); }
}
.btn-tinted {
  @apply bg-transparent text-primary;
  background: oklch(from var(--color-primary) l c h / 0.12);
  &:hover { background: oklch(from var(--color-primary) l c h / 0.18); }
  &:active { background: oklch(from var(--color-primary) l c h / 0.22); }
}
.btn-plain {
  @apply bg-transparent text-primary;
  &:hover { background: var(--surface-2); }
  &:active { background: var(--surface-3); }
}
/* ── Destructive modifier ── */
.btn-filled.btn-destructive {
  @apply bg-destructive text-destructive-foreground;
  &:hover { background: var(--color-destructive-hover); }
  &:active { background: var(--color-destructive-active); }
}
.btn-gray.btn-destructive {
  color: var(--color-destructive);
}
.btn-tinted.btn-destructive {
  color: var(--color-destructive);
  background: oklch(from var(--color-destructive) l c h / 0.12);
  &:hover { background: oklch(from var(--color-destructive) l c h / 0.18); }
  &:active { background: oklch(from var(--color-destructive) l c h / 0.22); }
}
.btn-plain.btn-destructive {
  color: var(--color-destructive);
}
.btn-capsule {
  border-radius: 9999px;
  corner-shape: round;
}
.btn-sm {
  @apply px-3 py-[5px] text-[13px] gap-1.5;
}
.btn-lg {
  @apply px-[21px] py-3 text-[17px] leading-[1.29];
  letter-spacing: -0.022em;
}
/* ── Help Tag ── */
/* Usage: <button data-help="Label">…</button> */
[data-help] {
  @apply relative;
  &::after {
    content: attr(data-help);
    @apply pointer-events-none absolute z-40 bottom-full left-1/2 mb-2 whitespace-nowrap rounded-md px-2 py-1 text-xs font-normal;
    letter-spacing: -0.01em;
    background: oklch(0.15 0 0 / 0.9);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    color: oklch(0.95 0 0);
    .dark & {
      background: oklch(0.85 0 0 / 0.9);
      color: oklch(0.1 0 0);
    }
    box-shadow: var(--shadow-sm);
    opacity: 0;
    translate: -50% 2px;
    transition: opacity 0.15s var(--apple-ease), translate 0.15s var(--apple-ease);
  }
  &:hover::after,
  &:focus-visible::after {
    opacity: 1;
    translate: -50% 0;
    transition-delay: 0.5s;
  }
}
@media (prefers-reduced-motion: reduce) {
  [data-help]::after { transition: none; }
}
