@import "tailwindcss";
@import "../src/css/cupertino.css";

/* ─── Docs Layout ─── */
@layer components {

  /* Sidebar */
  .docs-sidebar {
    @apply fixed left-0 top-0 z-40 h-screen w-[260px] overflow-y-auto border-r;
    background: oklch(from var(--background) l c h / 0.72);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
  }
  .docs-sidebar-brand {
    @apply flex items-center gap-2.5 px-5 py-5;
    & h1 {
      @apply text-base font-bold tracking-tight text-foreground;
    }
  }
  .docs-sidebar-section {
    @apply px-3 pb-4;
    & h2 {
      @apply px-2 pb-1.5 text-[11px] font-semibold text-muted-foreground;
    }
  }
  .docs-sidebar a {
    @apply flex items-center rounded-lg px-2 py-1.5 text-[13px] font-medium text-muted-foreground transition-colors duration-150;
    &:hover {
      @apply text-foreground;
      background: oklch(from var(--accent) l c h / 0.6);
    }
    &[data-active] {
      @apply text-primary;
      background: oklch(from var(--primary) l c h / 0.08);
    }
  }

  /* Header (top bar for mobile + breadcrumb) */
  .docs-header {
    @apply sticky top-0 z-30 border-b;
    background: oklch(from var(--background) l c h / 0.72);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
  }
  .docs-header-inner {
    @apply flex items-center justify-between px-6 py-3;
  }

  /* Main content area */
  .docs-main {
    @apply ml-[260px] min-h-screen;
  }
  .docs-content {
    @apply mx-auto max-w-3xl px-8 py-10;
  }
  .docs-title {
    @apply text-3xl font-bold tracking-tight text-foreground;
  }
  .docs-description {
    @apply mt-2 text-base text-muted-foreground;
  }

  /* Example container */
  .docs-example {
    @apply mt-8;
  }
  .docs-example-label {
    @apply mb-3 text-lg font-semibold tracking-tight text-foreground;
  }
  .docs-example-card {
    @apply rounded-xl border;
  }
  .docs-example-preview {
    @apply relative z-10 p-6 rounded-t-xl flex flex-wrap gap-4 items-start;
    background: var(--card);
    & > .card, & > .field, & > .accordion, & > table, & > .alert, & > .alert-info, & > .alert-success, & > .alert-warning, & > .alert-destructive, & > details, & > input, & > textarea, & > select, & > dialog, & > .input-group, & > .input-group-attached, & > .item, & > .item-group, & > form, & > fieldset, & > .sidebar, & > .theme-switcher, & > .command {
      @apply w-full;
    }
  }
  .docs-example-code {
    @apply relative border-t rounded-b-xl overflow-hidden;
    background: oklch(0.971 0.003 285.66);
  }
  :is(.dark *).docs-example-code, :is(.dark) .docs-example-code {
    background: oklch(0.08 0.01 285.82);
  }
  .docs-example-code pre {
    @apply overflow-x-auto p-4 text-[13px] leading-relaxed;
    & code {
      @apply font-[ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace];
      padding: 0 !important;
      background: transparent !important;
      color: oklch(0.370 0.004 285.99);
    }
  }
  :is(.dark) .docs-example-code pre code {
    color: oklch(0.869 0.008 285.82);
  }
  .docs-copy-btn {
    @apply absolute right-3 top-3 rounded-md border px-2 py-1 text-[11px] font-medium transition-all duration-200 cursor-pointer;
    background: oklch(0.971 0.003 285.66 / 0.8);
    border-color: oklch(0.862 0.007 286.02);
    color: oklch(0.540 0.008 286.01);
    &:hover {
      background: oklch(0.920 0.003 285.66);
      color: oklch(0.232 0.004 285.99);
    }
    &:active {
      transform: scale(var(--apple-press-scale));
    }
  }
  :is(.dark) .docs-copy-btn {
    background: oklch(0.274 0.004 285.99 / 0.6);
    border-color: oklch(0.350 0.004 285.99);
    color: oklch(0.630 0.006 286.01);
    &:hover {
      background: oklch(0.350 0.004 285.99);
      color: oklch(0.971 0.003 285.66);
    }
  }

  /* Theme toggle */
  .docs-theme-toggle {
    @apply flex size-8 items-center justify-center rounded-lg text-muted-foreground transition-colors cursor-pointer;
    &:hover {
      @apply text-foreground;
      background: var(--accent);
    }
  }

  /* Mobile hamburger */
  .docs-hamburger {
    @apply hidden size-8 items-center justify-center rounded-lg text-muted-foreground transition-colors cursor-pointer;
    &:hover {
      @apply text-foreground;
      background: var(--accent);
    }
  }
  .docs-overlay {
    @apply fixed inset-0 z-30 hidden;
    background: oklch(0 0 0 / 0.4);
    backdrop-filter: blur(4px);
  }

  /* ─── Homepage ─── */
  .home-nav {
    @apply sticky top-0 z-50 border-b;
    background: oklch(from var(--background) l c h / 0.72);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
  }
  .home-nav-inner {
    @apply mx-auto flex max-w-6xl items-center justify-between px-6 py-3;
  }
  .home-hero {
    @apply mx-auto max-w-3xl px-6 py-20 text-center;
  }
  .home-section-title {
    @apply mx-auto max-w-6xl px-6 pb-6 text-2xl font-bold tracking-tight text-foreground;
  }
  .home-bento-grid {
    @apply mx-auto grid max-w-6xl gap-4 px-6 pb-20;
    grid-template-columns: repeat(4, 1fr);
  }
  .bento-cell {
    @apply overflow-hidden rounded-xl border;
    background: var(--card);
  }
  .bento-cell-header {
    @apply border-b px-5 py-3 text-[13px] font-semibold text-foreground;
  }
  .bento-cell-body {
    @apply p-5;
  }
  .bento-2col { grid-column: span 2; }
  .bento-2row { grid-row: span 2; }
  .home-footer {
    @apply border-t py-8 text-center text-sm text-muted-foreground;
  }
  @media (max-width: 1024px) {
    .home-bento-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  @media (max-width: 640px) {
    .home-bento-grid {
      grid-template-columns: 1fr;
    }
    .bento-2col { grid-column: span 1; }
    .home-hero { @apply py-12; }
  }

  /* Mobile responsive */
  @media (max-width: 768px) {
    .docs-sidebar {
      @apply -translate-x-full transition-transform duration-300;
    }
    .docs-sidebar.open {
      @apply translate-x-0;
    }
    .docs-overlay.open {
      @apply block;
    }
    .docs-main {
      @apply ml-0;
    }
    .docs-hamburger {
      @apply inline-flex;
    }
    .docs-content {
      @apply px-5 py-8;
    }
  }
}
