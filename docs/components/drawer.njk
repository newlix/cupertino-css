{% extends "_includes/layout.njk" %}
{% from "_includes/macros.njk" import example %}
{% set title = "Drawer" %}

{% block content %}

  {% call example("Bottom (Default)") %}
<button class="btn-secondary" onclick="document.getElementById('demo-drawer-bottom').showModal()">Open Drawer</button>

<dialog id="demo-drawer-bottom" class="sheet-bottom">
  <div class="drawer-handle"></div>
  <button onclick="document.getElementById('demo-drawer-bottom').close()" class="sheet-close">
    <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
  </button>
  <header>
    <h2>Move Goal</h2>
    <p>Set your daily move goal.</p>
  </header>
  <section>
    <div class="flex flex-col items-center gap-4 py-4">
      <div class="text-6xl font-bold text-primary">350</div>
      <p class="text-sm text-muted-foreground">calories per day</p>
      <input type="range" class="slider w-full max-w-xs" min="100" max="800" value="350" />
    </div>
  </section>
  <footer>
    <button onclick="document.getElementById('demo-drawer-bottom').close()" class="btn-secondary w-full">Submit</button>
  </footer>
</dialog>
{% endcall %}

  {% call example("From Top") %}
<button onclick="document.getElementById('demo-drawer-top').showModal()" class="btn-outline">Open Top Drawer</button>

<dialog id="demo-drawer-top" class="sheet-top">
  <button onclick="document.getElementById('demo-drawer-top').close()" class="sheet-close">
    <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
  </button>
  <header>
    <h2>Notifications</h2>
    <p>You have 3 unread messages.</p>
  </header>
  <section>
    <div class="space-y-3">
      <div class="flex items-start gap-3 rounded-lg bg-secondary p-3">
        <div class="mt-0.5 flex size-8 items-center justify-center rounded-full bg-primary/10 text-primary">
          <svg class="size-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
        </div>
        <div>
          <p class="text-sm font-medium">New message from Alex</p>
          <p class="text-xs text-muted-foreground">Hey, are we still meeting today?</p>
        </div>
      </div>
      <div class="flex items-start gap-3 rounded-lg bg-secondary p-3">
        <div class="mt-0.5 flex size-8 items-center justify-center rounded-full bg-primary/10 text-primary">
          <svg class="size-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
        </div>
        <div>
          <p class="text-sm font-medium">Task completed</p>
          <p class="text-xs text-muted-foreground">Your export is ready to download.</p>
        </div>
      </div>
    </div>
  </section>
</dialog>
{% endcall %}

  {% call example("With Form") %}
<button onclick="document.getElementById('demo-drawer-form').showModal()" class="btn-outline">Add Feedback</button>

<dialog id="demo-drawer-form" class="sheet-bottom">
  <div class="drawer-handle"></div>
  <button onclick="document.getElementById('demo-drawer-form').close()" class="sheet-close">
    <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
  </button>
  <header>
    <h2>Send Feedback</h2>
    <p>We'd love to hear what you think.</p>
  </header>
  <section>
    <form class="space-y-4" onsubmit="return false;">
      <div class="field">
        <label>Rating</label>
        <div class="flex gap-2">
          <button type="button" class="flex size-10 items-center justify-center rounded-lg border text-lg transition-colors hover:bg-accent cursor-pointer">&#128545;</button>
          <button type="button" class="flex size-10 items-center justify-center rounded-lg border text-lg transition-colors hover:bg-accent cursor-pointer">&#128533;</button>
          <button type="button" class="flex size-10 items-center justify-center rounded-lg border text-lg transition-colors hover:bg-accent cursor-pointer bg-accent">&#128528;</button>
          <button type="button" class="flex size-10 items-center justify-center rounded-lg border text-lg transition-colors hover:bg-accent cursor-pointer">&#128522;</button>
          <button type="button" class="flex size-10 items-center justify-center rounded-lg border text-lg transition-colors hover:bg-accent cursor-pointer">&#128525;</button>
        </div>
      </div>
      <div class="field">
        <label>Comments</label>
        <textarea rows="3" placeholder="Tell us more..."></textarea>
      </div>
    </form>
  </section>
  <footer>
    <button onclick="document.getElementById('demo-drawer-form').close()" class="btn-secondary w-full">Submit Feedback</button>
  </footer>
</dialog>
{% endcall %}

  {% call example("Scrollable Content") %}
<button onclick="document.getElementById('demo-drawer-scroll').showModal()" class="btn-outline">View Changelog</button>

<dialog id="demo-drawer-scroll" class="sheet-bottom">
  <div class="drawer-handle"></div>
  <button onclick="document.getElementById('demo-drawer-scroll').close()" class="sheet-close">
    <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
  </button>
  <header>
    <h2>Changelog</h2>
    <p>Recent updates and improvements.</p>
  </header>
  <section class="overflow-auto" style="max-height: 300px;">
    <div class="space-y-4">
      <div>
        <div class="flex items-center gap-2">
          <span class="tag">v2.4.0</span>
          <span class="text-xs text-muted-foreground">Feb 26, 2026</span>
        </div>
        <p class="mt-1 text-sm text-muted-foreground">Added dark mode support for all components. Improved accessibility across the board.</p>
      </div>
      <hr />
      <div>
        <div class="flex items-center gap-2">
          <span class="tag">v2.3.0</span>
          <span class="text-xs text-muted-foreground">Feb 20, 2026</span>
        </div>
        <p class="mt-1 text-sm text-muted-foreground">New Drawer and Carousel components. Fixed sheet animation glitches on Safari.</p>
      </div>
      <hr />
      <div>
        <div class="flex items-center gap-2">
          <span class="tag">v2.2.0</span>
          <span class="text-xs text-muted-foreground">Feb 14, 2026</span>
        </div>
        <p class="mt-1 text-sm text-muted-foreground">Added Input OTP component. Improved combobox keyboard navigation.</p>
      </div>
      <hr />
      <div>
        <div class="flex items-center gap-2">
          <span class="tag">v2.1.0</span>
          <span class="text-xs text-muted-foreground">Feb 8, 2026</span>
        </div>
        <p class="mt-1 text-sm text-muted-foreground">Context menu component. Better popover positioning near viewport edges.</p>
      </div>
      <hr />
      <div>
        <div class="flex items-center gap-2">
          <span class="tag">v2.0.0</span>
          <span class="text-xs text-muted-foreground">Feb 1, 2026</span>
        </div>
        <p class="mt-1 text-sm text-muted-foreground">Major release: migrated to Tailwind CSS v4. New design tokens and updated all components.</p>
      </div>
    </div>
  </section>
  <footer>
    <button onclick="document.getElementById('demo-drawer-scroll').close()" class="btn-outline w-full">Close</button>
  </footer>
</dialog>
{% endcall %}

  <section class="mt-12">
    <h2 class="text-xl font-bold tracking-tight">Usage</h2>
    <p class="mt-2 text-[15px] text-muted-foreground">Adds backdrop click to close for <code>&lt;dialog&gt;</code>-based drawers. Same script as Sheet.</p>
    <div class="snippet mt-4" data-active style="border-radius: var(--radius-lg); overflow: hidden;">
      <pre><code class="language-html">&lt;!-- npm --&gt;
&lt;script src="node_modules/ciderui/js/sheet.js"&gt;&lt;/script&gt;

&lt;!-- CDN --&gt;
&lt;script src="https://unpkg.com/ciderui/js/sheet.js"&gt;&lt;/script&gt;</code></pre>
    </div>
  </section>

{% endblock %}
