{% extends "_includes/layout.njk" %}
{% from "_includes/macros.njk" import example %}
{% set title = "Snippet" %}

{% block content %}

  {% call example("With Preview") %}
<div class="snippet">
  <figure>
    <button class="btn-primary">Click me</button>
    <button class="btn-secondary">Cancel</button>
  </figure>
  <header>
    <span>HTML</span>
  </header>
  <pre><code>&lt;button class="btn-primary"&gt;Click me&lt;/button&gt;
&lt;button&gt;Cancel&lt;/button&gt;</code></pre>
</div>
{% endcall %}

  {% call example("Basic") %}
<div class="snippet">
  <pre><code>const greeting = "Hello, world!";
console.log(greeting);</code></pre>
</div>
{% endcall %}

  {% call example("With Header") %}
<div class="snippet">
  <header>
    <span>app.js</span>
    <button>Copy</button>
  </header>
  <pre><code>import express from "express";

const app = express();

app.get("/", (req, res) => {
  res.json({ message: "Hello, world!" });
});

app.listen(3000);</code></pre>
</div>
{% endcall %}

  {% call example("Multi-Tab") %}
<div class="snippet">
  <header>
    <nav>
      <button data-tab="t1" data-active>index.js</button>
      <button data-tab="t2">style.css</button>
      <button data-tab="t3">package.json</button>
    </nav>
    <button>Copy</button>
  </header>
  <pre data-panel="t1" data-active><code>import "./style.css";

document.querySelector("#app").innerHTML = `
  &lt;h1&gt;Hello Cider UI&lt;/h1&gt;
`;</code></pre>
  <pre data-panel="t2"><code>.app {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  max-width: 640px;
  margin: 0 auto;
  padding: 2rem;
}</code></pre>
  <pre data-panel="t3"><code>{
  "name": "my-app",
  "private": true,
  "scripts": {
    "dev": "vite",
    "build": "vite build"
  }
}</code></pre>
</div>
{% endcall %}

  {% call example("With Line Numbers") %}
<div class="snippet">
  <header>
    <span>fibonacci.py</span>
    <button>Copy</button>
  </header>
  <pre><code><span class="snippet-lines"><span class="snippet-line">def fibonacci(n):</span>
<span class="snippet-line">    if n &lt;= 1:</span>
<span class="snippet-line">        return n</span>
<span class="snippet-line">    return fibonacci(n - 1) + fibonacci(n - 2)</span>
<span class="snippet-line"></span>
<span class="snippet-line">for i in range(10):</span>
<span class="snippet-line">    print(fibonacci(i))</span></span></code></pre>
</div>
{% endcall %}

  {% call example("Terminal") %}
<div class="snippet">
  <header>
    <span>Terminal</span>
    <button>Copy</button>
  </header>
  <pre><code>$ npm install ciderui
$ npx @tailwindcss/cli -i input.css -o output.css</code></pre>
</div>
{% endcall %}

  <section class="mt-12">
    <h2 class="text-xl font-bold tracking-tight">Automatic reset boundary</h2>
    <p class="mt-2 text-[15px] text-muted-foreground"><code>.snippet &gt; figure</code> is an automatic <code>.cider</code> reset boundary. When a snippet is inside <code>.cider</code>, the preview area won't inherit <code>.cider</code> typography styles â€” components render with their own styling.</p>
  </section>

  <section class="mt-12">
    <h2 class="text-xl font-bold tracking-tight">Usage</h2>
    <p class="mt-2 text-[15px] text-muted-foreground">Load <code>snippet.js</code> for copy-to-clipboard and tab switching.</p>
    <div class="snippet mt-4">
      <header>
        <span>HTML</span>
        <button>Copy</button>
      </header>
      <pre><code class="language-html">&lt;!-- npm --&gt;
&lt;script src="node_modules/ciderui/js/snippet.js"&gt;&lt;/script&gt;

&lt;!-- CDN --&gt;
&lt;script src="https://unpkg.com/ciderui/js/snippet.js"&gt;&lt;/script&gt;</code></pre>
    </div>
  </section>

  <section class="mt-12">
    <h2 class="text-xl font-bold tracking-tight">Syntax Highlighting</h2>
    <p class="mt-2 text-[15px] text-muted-foreground">Snippet works with any syntax highlighter. Add a <code>language-*</code> class to <code>&lt;code&gt;</code> to enable highlighting. Here's an example with <a href="https://highlightjs.org" target="_blank" rel="noopener" class="font-medium text-primary hover:underline">highlight.js</a>:</p>

    <h3 class="mt-8 text-[15px] font-semibold">1. Load highlight.js</h3>
    <div class="snippet mt-3">
      <header>
        <span>HTML</span>
        <button>Copy</button>
      </header>
      <pre><code class="language-html">&lt;!-- Theme (pick one) --&gt;
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/styles/github.min.css"&gt;

&lt;!-- Core --&gt;
&lt;script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/highlight.min.js"&gt;&lt;/script&gt;

&lt;!-- Initialize --&gt;
&lt;script&gt;hljs.highlightAll();&lt;/script&gt;</code></pre>
    </div>

    <h3 class="mt-8 text-[15px] font-semibold">2. Set the language class</h3>
    <p class="mt-2 text-[13px] text-muted-foreground">Add <code>class="language-{lang}"</code> to the <code>&lt;code&gt;</code> element. Common languages:</p>
    <div class="snippet mt-3">
      <header>
        <span>HTML</span>
        <button>Copy</button>
      </header>
      <pre><code class="language-html">&lt;pre&gt;&lt;code class="language-javascript"&gt;...&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class="language-typescript"&gt;...&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class="language-python"&gt;...&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class="language-html"&gt;...&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class="language-css"&gt;...&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;...&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class="language-json"&gt;...&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class="language-sql"&gt;...&lt;/code&gt;&lt;/pre&gt;</code></pre>
    </div>
  </section>

  <section class="mt-12">
    <h2 class="text-xl font-bold tracking-tight">Language Examples</h2>

    <h3 class="mt-6 text-[15px] font-semibold">JavaScript</h3>
    <div class="snippet mt-3">
      <header>
        <span>server.js</span>
        <button>Copy</button>
      </header>
      <pre><code class="language-javascript">import Fastify from "fastify";

const app = Fastify({ logger: true });

app.get("/api/users", async (request, reply) => {
  const users = await db.query("SELECT * FROM users");
  return { users };
});

app.listen({ port: 3000 });</code></pre>
    </div>

    <h3 class="mt-8 text-[15px] font-semibold">TypeScript</h3>
    <div class="snippet mt-3">
      <header>
        <span>types.ts</span>
        <button>Copy</button>
      </header>
      <pre><code class="language-typescript">interface User {
  id: string;
  name: string;
  email: string;
  createdAt: Date;
}

function greet(user: User): string {
  return `Hello, ${user.name}!`;
}</code></pre>
    </div>

    <h3 class="mt-8 text-[15px] font-semibold">Python</h3>
    <div class="snippet mt-3">
      <header>
        <span>app.py</span>
        <button>Copy</button>
      </header>
      <pre><code class="language-python">from fastapi import FastAPI

app = FastAPI()

@app.get("/users/{user_id}")
async def get_user(user_id: int):
    user = await db.fetch_one(
        "SELECT * FROM users WHERE id = :id", {"id": user_id}
    )
    return {"user": user}</code></pre>
    </div>

    <h3 class="mt-8 text-[15px] font-semibold">CSS</h3>
    <div class="snippet mt-3">
      <header>
        <span>styles.css</span>
        <button>Copy</button>
      </header>
      <pre><code class="language-css">@import "tailwindcss";
@import "ciderui";

.hero {
  display: grid;
  place-items: center;
  min-height: 100dvh;
  background: linear-gradient(to bottom, var(--background), var(--secondary));
}</code></pre>
    </div>

    <h3 class="mt-8 text-[15px] font-semibold">Bash</h3>
    <div class="snippet mt-3">
      <header>
        <span>Terminal</span>
        <button>Copy</button>
      </header>
      <pre><code class="language-bash"># Install dependencies
npm install ciderui

# Build CSS
npx @tailwindcss/cli -i input.css -o output.css --watch</code></pre>
    </div>

    <h3 class="mt-8 text-[15px] font-semibold">JSON</h3>
    <div class="snippet mt-3">
      <header>
        <span>tsconfig.json</span>
        <button>Copy</button>
      </header>
      <pre><code class="language-json">{
  "compilerOptions": {
    "target": "ES2022",
    "module": "ESNext",
    "moduleResolution": "bundler",
    "strict": true,
    "jsx": "react-jsx",
    "jsxImportSource": "hono/jsx"
  }
}</code></pre>
    </div>

    <h3 class="mt-8 text-[15px] font-semibold">SQL</h3>
    <div class="snippet mt-3">
      <header>
        <span>schema.sql</span>
        <button>Copy</button>
      </header>
      <pre><code class="language-sql">CREATE TABLE users (
  id    INTEGER PRIMARY KEY AUTOINCREMENT,
  name  TEXT NOT NULL,
  email TEXT NOT NULL UNIQUE,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

SELECT u.name, COUNT(p.id) AS post_count
FROM users u
LEFT JOIN posts p ON p.author_id = u.id
GROUP BY u.id
ORDER BY post_count DESC;</code></pre>
    </div>
  </section>

{% endblock %}
